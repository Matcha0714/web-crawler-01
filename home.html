<!DOCTYPE html>
<html>

<head>
    <title>網頁前端課程</title>
    <!--CSS設定-->
    <style type="text/css">
        html,body{
            padding: 0px;
            margin: 0px;
        }
        #LoadBlock{
            width: 100vw;
            height: 100vh;
            background: #000;
            color: #fff;
            text-align: center;
            font-size: 100px;
            line-height: 50vh;
            opacity: 0.8;/*設定透明度*/
            position: fixed;/*設定載入區塊固定在上方*/
            top:0px;/*設定載入區塊距離最上端距離*/
        }
    </style>

    <!-- 引入 jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type = "text/javascript">

    var HelloIntervalId = null;
    var LoadStringProcessId = null;

    jQuery(document).ready(function(){//網頁載入完成
        //alert("網頁載入成功");
        DisplayLoading();
    });

    var LoadString = 0;
    function DisplayLoading(){
        var Loading = $("#LoadBlock");
        Loading.show();
        setTimeout(HideLoading, 3000);//5秒後隱藏Loading
        LoadStringProcess = setInterval(LoadStringProcess,30);//固定每500ms 呼叫一次LoadStringProcess
    }

    function HideLoading(){
        var Loading = $("#LoadBlock");
        Loading.hide();

        var BackImage = $("#BackImage");

        BackImage.animate({
            opacity: 1,
        },400,function(){
            HelloIntervalId = setInterval(RunHello,200);
            FadeBackground();
        });
    }

    function FadeBackground(){
        var BackImage = $("#BackImage");
        BackImage.animate({
            opacity: 0.1,
        },2000,function(){
            BackImage.animate({
                opacity: 1,
            },3000);
        });//將BackImage透明度改0.2費時2秒
    }

    function LoadStringProcess(){
        var Loading= $("#LoadBlock");
        LoadString = LoadString + 1;
        Loading.html("Loading "+LoadString+"%");
        if(LoadString > 100){
            clearInterval(LoadStringProcessId); //停止 LoadStringProcessId 所跑的程式
        }
    }

    var HelloString = "Hello!"
    var EndIndex = 1;

    function RunHello(){
        var HelloDiv = $("#HelloBlock");
        var SetText = HelloString.substring(0,EndIndex);
        EndIndex++;
        HelloDiv.html(SetText);

        if(EndIndex > 6){
            clearInterval(HelloIntervalId);
        }
    }

    </script> 

<!-- 匯入Google Icon -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>
<div id="LoadBlock">
</div>

<div style="width: 100%;opacity: 0.1;background: #000;" id="BackImage">
<img src="https://na.cx/i/2D3LC4g.jpg" style="width: 100%;">
<div id="HelloBlock" style="position: absolute;top:0px;font-size: 220px;color:white;text-shadow: black 0.1em 0.1em 0.2em;line-height: 50vh;text-align: center;width:50%;"></div>
</div>

</body>

</html>